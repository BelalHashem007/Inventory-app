<html>
  <head>
    <title><%= title%></title>
  </head>
  <body>
    <h1><%= title%></h1>
    <% 
  let path;
  if (type === "Update") {
    path = "/book/" + book.id + "/update";
  } else {
    path = "/book/create";
  }
    %>
    <form action="<%=path%>" method="post">
      <label for="book_title">Title*:</label>
      <input type="text" name="title" id="book_title" required value="<%= type=='Update' ? book.title : ''%>"/>
      <label for="book_desc">Description:</label>
      <textarea name="desc" id="book_desc"><%= type=='Update' ? book.description : ''%></textarea>
      <label for="book_rating">Rating(from 0 to 5):</label>
      <input type="number" name="rating" id="book_rating" required min="0" max="5" step="0.1" value="<%= type=='Update' ? book.rating : 0%>"/>
      <label for="book_author">Author*:</label>
      <input type="text" name="author" id="book_author" value="<%= type=='Update' ? book.authors[0] : ''%>">
      <% for (let i=0; i<genres.length; i++){%>
      <label ><input type="checkbox" name="genres" value="<%=genres[i].name%>" <% if (type === 'Update' && book.genres.includes(genres[i].name)) { %>
        checked
      <% } %>
    ><%=genres[i].name.toLowerCase()%></label>
        <%}%>
      <button type="submit">Submit</button>
    </form>
  </body>
</html>
